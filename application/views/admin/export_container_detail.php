<?php $this->view('lib/header'); ?>
<script>function view_pdf(no){	if(no==1)	{		window.open(root+"pdf/view_pdf", '_blank');	}	else{		window.location= root+"pdf/view_pdf";	}}</script>
		<div class="main-container">			<?php $this->view('lib/sidebar'); ?>				<div class="main-content">					<div class="container">						<div class="row">							<div class="col-sm-12">								<ol class="breadcrumb">									<li>										<i class="clip-pencil"></i>										<a href="<?=base_url()?>dashboard">											Dashboard										</a>									</li>									<li class="active">										<a href="<?=base_url()?>exportinvoice_listing">Export Invoice List</a>									</li>									<li class="active">										Container Detail									</li>								</ol>
							<div class="page-header title1">									<h3>Container Detail </h3>							</div>						</div>					</div>
				 <div class="row">
						<div class="col-sm-12">
						<div class="panel panel-default">
								<div class="panel-heading">									<i class="fa fa-external-link-square"></i>										<a href="<?=base_url()?>assign_producation">Assign Producation</a>								</div>
                                <div class="">									 
								<div class="panel-body form-body">									<div class="col-md-12">									<form name="container_detail_form" id="container_detail_form" action="javascript:;">										<div class="col-md-12">											 										</div>										 										<table class="table table-bordered table-hover"  style="width:100%;">											<thead>												<tr>												  	<th class="text-center">Container/Size</th>													<th class="text-center">Line Seal</th>													<th class="text-center">Self Seal</th>													<th class="text-center">Booking No</th>													<th class="text-center">LR NO</th>													<th class="text-center">Truck No</th>													<th class="text-center">Mobile No</th>													<th class="text-center">Product Detail</th>													<th class="text-center">Net Weight</th>																										<th class="text-center">Gross Weight</th>																					<th class="text-center">Tare Weight</th>												 	<th class="text-center">Pallet No</th>													<th class="text-center">Fina Net Weight</th>													<th class="text-center">Final Gross Weight</th>												 	<th class="text-center">Action</th>												</tr>											</thead>											<tbody>											 <?php										 	$Total_plts 		= 0;											$Total_sqm 			= 0;											$Total_box 			= 0;											$Total_amount		= 0;											$setcontainer 		= 0;											$packingtrn_array 	= array();											$con_entry 			= 1;											$container_details 	= 0;											$con_array 			= array();											$conarray 			= array();											$coarray 			= array();											if(!empty($set_container))											{														$container_twenty = intval($invoicedata->container_twenty);												$container_forty  = $container_twenty + intval($invoicedata->container_forty);												$no = 1;										  	for($i=0; $i<count($set_container);$i++)											{												 $Total_amount += $set_container[$i]->product_amt;											  	?>												<tr>												 	<?php													   																										if(!in_array($set_container[$i]->con_entry,$con_array))													{													 	$con_entry = $set_container[$i]->max_no + 1;														$setcontainer += 1;														$rowcon_no = ($set_container[$i]->rowspan_no > 1)?$set_container[$i]->rowspan_no:'';														 $container_details++;																										 $checked  = ($set_container[$i]->container_size == 20)?'checked':'';													 $checked1 = ($set_container[$i]->container_size == 40)?'checked':'';													 $checked2 = ($set_container[$i]->container == 1)?'checked':'';													 $checked3 = ($set_container[$i]->container == 0.5)?'checked':'';													?>													<td rowspan="<?=$rowcon_no?>">	<div style="display:flex; align-items:center; gap:5px;">		<span style="font-weight:bold; min-width:20px; text-align:right;">			<?=$setcontainer?>.		</span>		<input type="text" name="container_no[]" id="container_no<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->container_no?>" class="form-control" />	</div>	<input type="hidden" name="containerno[]" id="containerno<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->container_no?>" /></td>													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="seal_no[]" id="seal_no<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->seal_no?>" class="form-control" />  													</td>													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="rfidseal_no[]" id="rfidseal_no<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->self_seal_no?>" class="form-control" />   													</td>													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="booking_no[]" id="booking_no<?=	$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->booking_no?>" class="form-control" />   														 													</td>													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="lr_no[]" id="lr_no<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->lr_no?>" class="form-control" />   													</td>													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="truck_no[]" id="truck_no<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->truck_no?>" class="form-control" />    													</td>													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="mobile_no[]" id="mobile_no<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->mobile_no?>" class="form-control" />   													</td>													<?php 														array_push($con_array,$set_container[$i]->con_entry);													}																										if($set_container[$i]->product_id == 0)														{															echo '<td>'.$set_container[$i]->description_goods.'</td>';														}														else														{ 													?>													<td>																											<?=$set_container[$i]->size_type_mm?>														<br>														<?=$set_container[$i]->model_name?>														<br>														<?=$set_container[$i]->finish_name?>													</td> 												  	<?php 														}													if(!in_array($set_container[$i]->con_entry,$conarray))													{														$gross_weight = $set_container[$i]->orignal_net_weight;														$net_weight 	= $set_container[$i]->orignal_net_weight;														 														if($set_container[$i]->origanal_pallet>0)														{														 	$gross_weight += $set_container[$i]->orignal_pallet_weight;														}														else if($set_container[$i]->orginal_no_of_big_pallet>0 || $set_container[$i]->orginal_no_of_small_pallet>0)														{															$gross_weight += $set_container[$i]->orignal_big_pallet_weight;															$gross_weight += $set_container[$i]->orignal_small_pallet_weight;														}														if($set_container[$i]->updated_gross_weight)														{															$gross_weight = $set_container[$i]->updated_gross_weight;														}														if($set_container[$i]->updated_net_weight)														{															$net_weight = $set_container[$i]->updated_net_weight;														}														$rowcon_no = ($set_container[$i]->rowspan_no > 1)?$set_container[$i]->rowspan_no:'';													?>													<td rowspan="<?=$rowcon_no?>">														 <input type="text" name="net_weight[]" id="net_weight<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$net_weight?>" class="form-control" />  													</td>													<td rowspan="<?=$rowcon_no?>">														<input type="text" name="gross_weight[]" id="gross_weight<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$gross_weight?>" class="form-control" />   													</td>													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="tare_weight[]" id="tare_weight<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->tare_weight?>" class="form-control" />   													</td>													 													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="remarks[]" id="remarks<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->remark?>" class="form-control" />  													 </td>													 													 <td rowspan="<?=$rowcon_no?>">														<input type="text" name="final_updated_net_weight[]" id="final_updated_net_weight<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->final_updated_net_weight?>" class="form-control" placeholder="Final Net Weight" />   													</td>																										<td rowspan="<?=$rowcon_no?>">														<input type="text" name="final_updated_gross_weight[]" id="final_updated_gross_weight<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->final_updated_gross_weight?>" class="form-control"  placeholder="Final Gross Weight" />   													</td>													 <td rowspan="<?=$rowcon_no?>">													 														 	<?php															if($invoicedata->customer_invoice==0 && $invoicedata->step==4)															{															?>															<a class="tooltips btn btn-warning" data-toggle="tooltip" data-title="Edit Product Detail"  onclick="edit_loading(<?=$set_container[$i]->con_entry?>,<?=$set_container[$i]->export_invoice_id?>)" href="javascript:;" ><i class="fa fa-pencil"></i></a>															<br>&nbsp;															<?php															}																														?>																														<a class="tooltips btn btn-primary" data-toggle="tooltip" data-title="Upload Container Photo"  href="<?=base_url().'container_loading/index/'.$set_container[$i]->pi_loading_plan_id?>/<?=$set_container[$i]->container_no?>"><i class="fa fa-upload"></i></a>															 													  </td>													   													 <input type="hidden" name="export_loading_trn_id[]" id="export_loading_trn_id<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->export_loading_trn_id?>" />   																										<input type="hidden" name="con_entry[]" id="con_entry<?=$set_container[$i]->export_loading_trn_id?>" value="<?=$set_container[$i]->con_entry?>" />													   												 	<?php 														array_push($conarray,$set_container[$i]->con_entry);													}													?>											  	</tr>										 		<?php											    											}											}											else											{												echo "<tr>														<td  class='text-center' colspan='13'>Container Not set</td>														</tr>";											}																								?>											 </tbody>										</table>									 			 	<div style="padding: 14px;padding-left:0px;">										<?php										if($invoicedata->customer_invoice==0)										{											?>											<button class="btn btn-success" >Save</button>																						<?php										}										?>											<a href="<?=base_url().'exportinvoice_listing'?>" class="btn btn-danger">												Back											</a>											<input type="hidden" id="export_invoiceid" name="export_invoiceid" value="<?=$invoicedata->export_invoice_id?>"> 											<input type="hidden" id="total_amount" name="total_amount" value="<?=$Total_amount?>"> 											<input type="hidden" id="certification_charge" name="certification_charge" value="<?=$invoicedata->certification_charge?>"> 											<input type="hidden" id="insurance_charge" name="insurance_charge" value="<?=$invoicedata->insurance_charge?>"> 											<input type="hidden" id="seafright_charge" name="seafright_charge" value="<?=$invoicedata->seafright_charge?>"> 											<input type="hidden" id="discount" name="discount" value="<?=$invoicedata->discount?>"> 											<input type="hidden" id="bank_charge" name="bank_charge" value="<?=$invoicedata->bank_charge?>"> 											<input type="hidden" id="courier_charge" name="courier_charge" value="<?=$invoicedata->courier_charge?>"> 											<input type="hidden" id="calculation_operator" name="calculation_operator" value="<?=$invoicedata->calculation_operator?>"> 											 											<input type="hidden" id="final_total_val" name="final_total_val" value="<?=$invoicedata->grand_total?>"> 																						<input type="hidden" id="Exchange_Rate_val" name="Exchange_Rate_val" value="<?=$invoicedata->Exchange_Rate_val?>"> 											<input type="hidden" id="indian_ruppe_val" name="indian_ruppe_val" value="<?=$invoicedata->indian_ruppe_val?>"> 											<input type="hidden" id="aftergst_indian_ruppe_val" name="aftergst_indian_ruppe_val" value="<?=$invoicedata->aftergst_indian_ruppe_val?>"> 											<input type="hidden" id="export_under" name="export_under" value="<?=$invoicedata->export_under?>"> 											<input type="hidden" id="export_under1" name="export_under1" value="<?=$invoicedata->export_under1?>"> 											<input type="hidden" id="company_rules" name="company_rules" value="<?=$invoicedata->company_rules?>"> 											<input type="hidden" id="rex_no_detail" name="rex_no_detail" value="<?=$invoicedata->rex_no_detail?>"> 											<input type="hidden" id="epcg_licence_no" name="epcg_licence_no" value="<?=$invoicedata->epcg_licence_no?>"> 											<input type="hidden" id="remark" name="remark" value="<?=$invoicedata->remarks?>"> 											<input type="hidden" id="lut_no" name="lut_no" value="<?=$invoicedata->lut_no?>"> 											<input type="hidden" id="lut_expiry" name="lut_expiry" value="<?=$invoicedata->lut_expiry?>"> 											<input type="hidden" id="notification_text" name="notification_text" value="<?=$invoicedata->notification_text?>"> 											<input type="hidden" id="commision_amt" name="commision_amt" value="<?=$invoicedata->commision_amt?>"> 											<input type="hidden" id="lei_no" name="lei_no" value="<?=$invoicedata->lei_no?>"> 											<input type="hidden" id="extra_calc_name" name="extra_calc_name" value="<?=$invoicedata->extra_calc_name?>"> 											<input type="hidden" id="aeo_no" name="aeo_no" value="<?=$invoicedata->aeo_no?>"> 											<input type="hidden" id="extra_calc_amt" name="extra_calc_amt" value="<?=$invoicedata->extra_calc_amt?>"> 											<input type="hidden" id="extra_calc_opt" name="extra_calc_opt" value="<?=$invoicedata->extra_calc_opt?>"> 											 									 									<div class="errormsg" style="color:red"></div>								</div>									</form>									 </div>
								</div>
							 	</div>
						</div>
					</div>
				</div>
			</div>
		</div>
 
<?php $this->view('lib/footer'); ?><div id="excelModal" class="modal fade" role="dialog">    <div class="modal-dialog modal-lg" style="width:1122px">        <!-- Modal content-->        <div class="modal-content"  >            <div class="modal-header">                <button type="button"  onclick="close_modal()"  class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title">Edit Container Product detail </h4>            </div>			<form class="form-horizontal askform" action="javascript:;"  method="post" name="wallproduct_form" id="wallproduct_form">            <div class="modal-body" style="max-height: 600px;overflow-y: auto;">                <div class="row">						<div class="col-md-12">							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#productmodal" data-keyboard="false" data-backdrop="static">+ Product </button>						</div>						<input type="hidden" id="export_invoice_id" name="export_invoice_id" value="<?=$invoicedata->export_invoice_id?>"> 					 				 	 				  	<div id="set_container_detail" style="margin-top:60px;"> </div>        				       				 </div>  							</div>            <div class="modal-footer">			<input name="Submit" type="submit" value="Save" id="submit_btn" class="btn btn-success"  />                 <button type="button" onclick="close_modal()" class="btn btn-default" data-dismiss="modal">Close</button>            </div>			 		 					</form>           </div></div></div><div id="productmodal" class="modal fade" role="dialog" >    <div class="modal-dialog modal-lg">        <div class="modal-content ">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title">Add Product</h4>            </div>			 <form role="form" class="form-horizontal" action="javascript:;" method="post" enctype="multipart/form-data" name="product_add" id="product_add">				<input type="hidden" id="einvoice_id" name="einvoice_id" value="<?=$invoicedata->export_invoice_id?>"> 				 					<div class="modal-body">				<div class="row">						<div class="form-group col-md-6">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		  Select Product				 	</label>				 	<div class="col-sm-12">				 		 <select class="select2" id="product_id" name="product_id" onchange="load_packing(this.value)">								<option value="">Select Product Name</option>								<?php								for($p=0;$p<count($allproduct);$p++)								{									$thickness = (!empty($allproduct[$p]->thickness))?" - ".$allproduct[$p]->thickness." MM":"";								 ?>									<option value="<?=$allproduct[$p]->product_id?>"><?=$allproduct[$p]->size_type_mm.' ('.$allproduct[$p]->series_name.')'.$thickness?></option>								<?php								}								?>							</select>				 	</div>				 </div>				 <div class="form-group col-md-6">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		 Select Packing				 	</label>				 	<div class="col-sm-12">				 		 <select class="select2" id="packing_id" name="packing_id" onchange="load_design(this.value)">								<option value="">Select Packing Name</option>						 </select>				 	</div>				 </div>				  <div class="form-group col-md-6">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		 Select Design				 	</label>				 	<div class="col-sm-12">				 		 <select class="select2" id="design_id" name="design_id" onchange="load_finish(this.value)">								<option value="">Select Design Name</option>						 </select>				 	</div>				 </div>				  <div class="form-group col-md-6">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		 Select Finish				 	</label>				 	<div class="col-sm-12">				 		 <select class="select2" id="finish_id" name="finish_id" >								<option value="">Select Finish</option>						 </select>				 	</div>				 </div>				 <div class="col-md-6 form-group single_con">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		 Pallet				 	</label>				 	<div class="col-sm-12">				 		<input type="text" placeholder="Pallet" id="no_of_pallet" class="form-control" name="no_of_pallet" value="" onkeyup="cal_sqm(2);" onblur="cal_sqm(2)">				 	</div>				 </div>   				  <div class="col-md-6 form-group multi_con" style="display:none">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		Big Pallet				 	</label>				 	<div class="col-sm-12">				 		<input type="text" placeholder="Big Pallet" id="no_of_big_pallet" class="form-control" name="no_of_big_pallet" value="" onkeyup="cal_sqm(2);" onblur="cal_sqm(2)">				 	</div>				 </div>  				  <div class="col-md-6 form-group multi_con" style="display:none">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		Small Pallet				 	</label>				 	<div class="col-sm-12">				 		<input type="text" placeholder="Small Pallet" id="no_of_small_pallet" class="form-control" name="no_of_small_pallet" value="" onkeyup="cal_sqm(2);" onblur="cal_sqm(2)" >				 	</div>				 </div>				<div class="col-md-6 form-group">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		 Boxes				 	</label>				 	<div class="col-sm-12">				 		<input type="text" placeholder="Boxes" id="boxes" class="form-control" name="boxes" value="" onkeyup="cal_sqm(1);" onblur="cal_sqm(1)" >				 	</div>				 </div>  				<div class="col-md-6 form-group">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		 Batch				 	</label>				 	<div class="col-sm-12">				 		<input type="text" placeholder="Batch No" id="batch_no" class="form-control" name="batch_no" value=""  >				 	</div>				 </div>  					 <div class="col-md-6 form-group">				 	<label class="col-sm-12 control-label" for="form-field-1">				 		 Shade No				 	</label>				 	<div class="col-sm-12">				 		<input type="text" placeholder="Shade No" id="shade_no" class="form-control" name="shade_no" value=""  >				 	</div>				 </div>  					</div> 								 </div>            <div class="modal-footer">				<input name="Submit" type="submit" value="Add" class="btn btn-info"  />                     <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>            </div>			<input type="hidden" name="total_no_of_sqm" id="total_no_of_sqm" value="" />			<input type="hidden" name="net_weight" id="net_weight" value="" />			<input type="hidden" name="gross_weight" id="gross_weight" value="" />			<input type="hidden" name="pallet_status" id="pallet_status" value="" />			<input type="hidden" name="sqm_per_box" id="sqm_per_box" value="" />			<input type="hidden" name="pcs_per_box" id="pcs_per_box" value="" />			<input type="hidden" name="weight_per_box" id="weight_per_box" value="" />			<input type="hidden" name="pallet_weight" id="pallet_weight" value="" />			<input type="hidden" name="big_pallet_weight" id="big_pallet_weight" value="" />			<input type="hidden" name="small_pallet_weight" id="small_pallet_weight" value="" />			<input type="hidden" name="boxes_per_pallet" id="boxes_per_pallet" value="" />			<input type="hidden" name="big_boxes_per_pallet" id="big_boxes_per_pallet" value="" />			<input type="hidden" name="small_boxes_per_pallet" id="small_boxes_per_pallet" value="" />						<input type="hidden" name="new_container_no" id="new_container_no" value="" />		 	<input type="hidden" name="new_seal_no" id="new_seal_no" value="" />			<input type="hidden" name="rfidseal_no" id="rfidseal_no" value="" />						<input type="hidden" name="new_booking_no" id="new_booking_no" value="" />			<input type="hidden" name="new_lr_no" id="new_lr_no" value="" />			<input type="hidden" name="new_truck_no" id="new_truck_no" value="" />			<input type="hidden" name="new_remark" id="new_remark" value="" />			<input type="hidden" name="new_tare_weight" id="new_tare_weight" value="" />			 			<input type="hidden" name="new_container_size" id="new_container_size" value="" />			 			<input type="hidden" name="new_container" id="new_container" value="" />			 			<input type="hidden" name="new_con_entry" id="new_con_entry" value="" />			 			 			</form>        </div>    </div></div><div id="myModal" class="modal fade" role="dialog">    <div class="modal-dialog modal-lg">        <!-- Modal content-->        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title">From Excel</h4>            </div>			              <div class="modal-body">                <div class="row">						<div class="col-md-12">							<h4>Copy & Paste Rules</h4><br>							-> Please remove space between words in colom.<br>						 	-> Container Size not include from excel copy.						</div>						<div class="col-md-12">							<textarea placeholder="Paste Here.........." id="excel_data" class="form-control" name="excel_data" style="height:250px"></textarea>					 	</div>				 </div>			</div>            <div class="modal-footer">			 	<button id="button_btn" type="button" onclick="paste_data()" class="btn btn-info">Import</button>                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>            </div>			          </div>    </div></div>
<script>$(window).bind("load", function() {	invoice_cal();   update_calc(<?=$invoicedata->step?>);   <?php    if(!empty($invoicecustdata))   {	   ?>		 update_calc_cust(4);   <?php    }   ?>  });<?php    if(!empty($invoicecustdata))   {	   ?> function update_calc_cust(step){	 block_page();	     $.ajax({              type: "POST",              url: root+"cutomerinvoiceproduct/update_customer_invoice",             data: 			 {				"customer_invoice_id"	: <?=$invoicecustdata->customer_invoice_id?>,				"certification_charge"	: $("#certification_charge").val(),				"insurance_charge"		: $("#insurance_charge").val(),				"seafright_charge"		: $("#seafright_charge").val(),				"seafright_action"		: $("#seafright_action").val(),				"discount"				: $("#discount").val(),				"step"					: step,				"grand_total"			: $("#final_total_val").val(),		 	 	 			}, 			success: function (response) { 				unblock_page("","");			}                      }); }   <?php    }   ?>function update_calc(step){	 block_page();    $.ajax({              type: "POST",              url: root+"exportinvoiceproduct/update_export",             data: {				"export_invoice_id"			: $("#export_invoice_id").val(),				"calculation_operator"		: $("#calculation_operator").val(),				"certification_charge"		: $("#certification_charge").val(),				"insurance_charge"			: $("#insurance_charge").val(),				"seafright_charge"			: $("#seafright_charge").val(),				"seafright_action"			: $("#seafright_action").val(),				"courier_charge"			: $("#courier_charge").val(),				"bank_charge"				: $("#bank_charge").val(),				"discount"					: $("#discount").val(),				"grand_total"				: $("#final_total_val").val(),				"export_under"				: $("#export_under").val(),				"export_under1"				: $("#export_under1").val(),				"epcg_licence_no"			: $("#epcg_licence_no").val(),				"Exchange_Rate_val"			: $("#Exchange_Rate_val").val(),				"remarks" 					: $("#remark").val(),				"supplier_gstib" 			: $("#supplier_gstib").val(),			 	"supplier_invoice_no" 		: $("#supplier_invoice_no").val(),				"supplier_invoice_date" 	: $("#supplier_invoice_date").val(),				"indian_ruppe_val" 			: $("#indian_ruppe_val").val(),				"aftergst_indian_ruppe_val" : $("#aftergst_indian_ruppe_val").val(),				"supplier_id" 				: $("#supplier_id").val(),				"company_rules" 			: $("#company_rules").val(),				"rex_no_detail" 			: $("#rex_no_detail").val(),				"lut_no" 					: $("#lut_no").val(),				"notification_text" 	 	: $("#notification_text").val(),				"lei_no" 	 				: $("#lei_no").val(),				"aeo_no" 	 				: $("#aeo_no").val(),				"commision_rate" 		 	: $("#commision_rate").val(),				"lut_expiry" 				: $("#lut_expiry").val(),				"extra_calc_name" 			: $("#extra_calc_name").val(),				"extra_calc_amt" 			: $("#extra_calc_amt").val(),				"extra_calc_opt" 			: $("#extra_calc_opt").val(),				"currency_name" 			: $("#currency_name").val(),				"step"						: step			}, 			success: function (response) { 				unblock_page("",""); 			}                      }); }invoice_cal();function invoice_cal() {	var total_amount 		 = $('#total_amount').val();    var certification_charge = ($('#certification_charge').val()=="" || $('#certification_charge').val()== undefined)?0:$('#certification_charge').val();    var insurance_charge 	 = ($('#insurance_charge').val()=="" || $('#insurance_charge').val()== undefined)?0:$('#insurance_charge').val();    var seafright_charge 	 = ($('#seafright_charge').val()=="" || $('#seafright_charge').val()== undefined)?0:$('#seafright_charge').val();    var discount 			 = ($('#discount').val()=="" || $('#discount').val()== undefined)?0:$('#discount').val();	var calculation_operator = $("#calculation_operator").val()	var extra_calc_amt = ($('#extra_calc_amt').val()=="" || $('#extra_calc_amt').val()== undefined)?0:$('#extra_calc_amt').val();	var extra_calc_opt =   $("#extra_calc_opt").val()			if(extra_calc_opt == 1)	{		total_amount = parseFloat(total_amount) + parseFloat(extra_calc_amt);	}	else	{		total_amount = parseFloat(total_amount) -  parseFloat(extra_calc_amt);			}	if(calculation_operator == 1)	{		var final_total = parseFloat(total_amount) + parseFloat(certification_charge) + parseFloat(insurance_charge)  - parseFloat(discount);	 	final_total += parseFloat(seafright_charge); 		$("#terms_first_name").html('FOB');		$("#terms_last_name").html('<?=$invoicedata->terms_name?> Values');	}	else{ 		var final_total = parseFloat(total_amount) - parseFloat(certification_charge) - parseFloat(insurance_charge)  - parseFloat(discount);		$("#terms_first_name").html('<?=$invoicedata->terms_name?>');		$("#terms_last_name").html('FOB Values');		final_total -= parseFloat(seafright_charge); 	}	if(parseFloat(discount)>(parseFloat(total_amount) + parseFloat(certification_charge) + parseFloat(insurance_charge) + parseFloat(seafright_charge)))	{		$('#discount').focus();		$('#discount_error').html('Not Vaild');		$('#final_total').html(0);		return false;	}	$('#discount_error').html('');	var courier_charge = ($("#courier_charge").val() > 0)?$("#courier_charge").val():0;	var bank_charge = ($("#bank_charge").val() > 0)?$("#bank_charge").val():0;	final_total += parseFloat(courier_charge);	final_total += parseFloat(bank_charge);	$('#final_total').html(parseFloat(final_total).toFixed(2));	$('#final_total_val').val(parseFloat(final_total).toFixed(2));	var exchangerate = 0;	if($("#Exchange_Rate_val").val()>0)	{		exchangerate = $("#Exchange_Rate_val").val();	}	var india_ruppe = parseFloat(exchangerate) * parseFloat(final_total).toFixed(2);		$("#indian_ruppe_html").html(india_ruppe.toFixed(2));	$("#indian_ruppe_val").val(india_ruppe.toFixed(2))	var gst = india_ruppe*18/100;	//$("#aftergst_indian_ruppe_val").html(gst.toFixed(2))	$("#aftergst_indian_ruppe_val").val(parseFloat(gst).toFixed(2))}   function edit_loading(con_entry,export_invoice_id){	  	block_page();			  $.ajax({               type: "POST",               url: root+'exportinvoice/editloading',              data: {                "con_entry"				: con_entry,                 "export_invoice_id"	 : export_invoice_id              },               cache: false,               success: function (data)			  { 				var obj = JSON.parse(data);					$("#excelModal").modal({						backdrop: 'static',						keyboard: false					});										$(".edit_html").show();										$("#set_container_detail").html(obj.html);					 $(".tooltips").tooltip();					$("#new_seal_no").val(obj.seal_no);					 				 	$("#new_container_no").val(obj.container_no);				 	$("#new_rfidseal_no").val(obj.rfidseal_no);				 	$("#new_booking_no").val(obj.booking_no);				 	$("#new_lr_no").val(obj.lr_no);				 	$("#new_truck_no").val(obj.truck_no);				 	$("#new_remark").val(obj.remark);				 	$("#new_tare_weight").val(obj.tare_weight);				 	$("#new_container_size").val(obj.container_size);				 	$("#new_container").val(obj.container);				 	$("#new_con_entry").val(obj.con_entry);					unblock_page('',"")              }			});		 } function make_pallet(con_entry,export_invoice_id){	var export_loading_trn_id 		= [];	 var exportloading_trn_id 		= 0;	 var n=1;	 $('input[name="make_pallet[]"]').each(function()	 {		if($(this).is(":checked")) 		{		    export_loading_trn_id.push($(this).val());			if(n==1)			{				exportloading_trn_id = $(this).val();			}			n++;		}	  });	 	 if(export_loading_trn_id == "" || export_loading_trn_id == null)	 {		 unblock_page('error',"Please select atlest 1 design");		 return false;	 }	 block_page();	$.ajax({              type: "POST",              url: root+'exportinvoice/make_pallet',             data: 			 {					"export_loading_trn_id"	: export_loading_trn_id, 					"exportloading_trn_id"	: exportloading_trn_id, 					"make_pallet_no"		: $("#make_pallet_no").val()              },              cache: false,              success: function (data)			 { 					edit_loading(con_entry,export_invoice_id)					 					unblock_page("success","Mix Pallet Done.");             }			}); 		  }function delete_pallet(export_make_pallet_no,export_loading_trn_id,con_entry){	 	Swal.fire({			title: 'You want to Delete?',			type: 'info',			showCancelButton: true,			confirmButtonColor: '#3085d6',			cancelButtonColor: '#d33',			confirmButtonText: 'Yes, confirm it!'		}).then((result) => {		 if (result.value) {				block_page();			$.ajax({              type: "POST",              url: root+'exportinvoice/delete_pallet',             data: 			 {					"export_make_pallet_no"	: export_make_pallet_no, 					"export_loading_trn_id"	: export_loading_trn_id              },              cache: false,              success: function (data)			 { 										$("#excelModal").modal('hide');					unblock_page("success","Pallet Sucessfully Deleted.");					setTimeout(function(){ edit_loading(con_entry,$("#export_invoice_id").val());},1000);					unblock_page("","");             }			}); 		 }		 });		  }function delete_design(export_loading_trn_id,con_entry){	 	if($("#no_of_design").val() == 1)	{		  unblock_page("error","Container Can't blank. Add atleast 1 design") 		  return false;	}	 	Swal.fire({			title: 'You want to Delete?',			type: 'info',			showCancelButton: true,			confirmButtonColor: '#3085d6',			cancelButtonColor: '#d33',			confirmButtonText: 'Yes, confirm it!'		}).then((result) => {		 if (result.value) {	 block_page();	$.ajax({              type: "POST",              url: root+'exportinvoice/delete_design',             data: 			 {					"export_loading_trn_id"	: export_loading_trn_id,					"con_entry"				: con_entry,					"export_invoice_id"		: $("#export_invoice_id").val(),					"status"				: 2             },              cache: false,              success: function (data)			 { 										$("#excelModal").modal('hide');					unblock_page("success","Design Sucessfully Deleted.");					setTimeout(function(){ edit_loading(con_entry,$("#export_invoice_id").val());},1000);					unblock_page("","");             }			}); 		 }		 });		  }function recover_design(export_loading_trn_id,con_entry){	 	 	 	Swal.fire({			title: 'You want to Delete?',			type: 'info',			showCancelButton: true,			confirmButtonColor: '#3085d6',			cancelButtonColor: '#d33',			confirmButtonText: 'Yes, confirm it!'		}).then((result) => {		 if (result.value) {	 block_page();	$.ajax({              type: "POST",              url: root+'exportinvoice/delete_design',             data: 			 {					"export_loading_trn_id"	: export_loading_trn_id, 					"con_entry"				: con_entry,					"export_invoice_id"		: $("#export_invoice_id").val(),					"status"				: 0              },              cache: false,              success: function (data)			 { 										$("#excelModal").modal('hide');					unblock_page("success","Design Sucessfully Deleted.");					setTimeout(function(){ edit_loading(con_entry,$("#export_invoice_id").val());},1000);					unblock_page("","");             }			}); 		 }		 });		  }$("#container_detail_form").submit(function(event) {	event.preventDefault();	var inps = document.getElementsByName('export_loading_trn_id[]');		var no=1;	var container_no 	 = new Array();	var seal_no 		 = new Array();	var rfidseal_no 	 = new Array();	for(var i = 0; i <inps.length; i++) 	{			var inp=inps[i];			container_no.push($("#container_no"+inp.value).val());			seal_no.push($("#seal_no"+inp.value).val());			rfidseal_no.push($("#rfidseal_no"+inp.value).val());	 	no++;		}	 	 	var results = [];          for (var i = 0; i < container_no.length - 1; i++) {              if (container_no[i + 1] == container_no[i]) {                  results.push(container_no[i]);              }          }  		var results1 = [];          for (var i = 0; i < seal_no.length - 1; i++) {              if (seal_no[i + 1] == seal_no[i]) {                  results1.push(seal_no[i]);              }          }  		var results2 = [];          for (var i = 0; i < rfidseal_no.length - 1; i++) {              if (rfidseal_no[i + 1] == rfidseal_no[i]) {                  results2.push(rfidseal_no[i]);              }          }  	 	  	block_page();	var postData= new FormData(this);	$.ajax({            type: "post",            url: 	root+'exportinvoice/container_detail_entry',            data: postData,			processData: false,			contentType: false,			cache: false,            success: function(responseData) {               //console.log(responseData);			    var obj= JSON.parse(responseData);				$(".loader").hide();			   if(obj.res==1)			   {				   $("#product_form").trigger('reset');				    unblock_page("success","Loading Detail Sucessfully Added.");				//	setTimeout(function(){ window.location=root+'assign_producation' },1000);				}			   else			   {				    unblock_page("error","Something Wrong.") 			   }			                 },            error: function(jqXHR, textStatus, errorThrown) {                console.log(errorThrown);            }	}); });function paste_data(){	var excel_data = $("#excel_data").val();	var excel_spit = excel_data.split("\n");  	var total_line = parseInt(excel_spit.length)-parseInt(1);	  var value_array = [];	  var name_array = [];	   	 		for(var i=0;i<total_line;i++)		{			var custom1 =  excel_spit[i].replace(/\t/g, ' ');			var spit_from_colom = custom1.split(" ");			  value_array.push(spit_from_colom)			 		}				var inps = document.getElementsByName('export_loading_trn_id[]');		var no=0;		 		for (var c = 0; c <inps.length; c++) 		{			var inp=inps[c];				   				if(value_array[no] != undefined && value_array[no].length == 9)				{					if($("#container_no"+inps[c].value).val() != undefined)					{						$("#container_no"+inps[c].value).val(value_array[no][0]);						$("#seal_no"+inps[c].value).val(value_array[no][1]);						$("#rfidseal_no"+inps[c].value).val(value_array[no][2]);						$("#booking_no"+inps[c].value).val(value_array[no][3]);						$("#lr_no"+inps[c].value).val(value_array[no][4]);						$("#truck_no"+inps[c].value).val(value_array[no][5]);						$("#mobile_no"+inps[c].value).val(value_array[no][6]);						$("#tare_weight"+inps[c].value).val(value_array[no][7]);						$("#remarks"+inps[c].value).val(value_array[no][8]);					}				}				else if(value_array[no] != undefined)				{					toastr["error"]("Wrong Data");					return false;				}			 		 	no++;	 	}		$("#myModal").modal("hide"); 		$("#excel_data").val(""); 			 	 }$("#wallproduct_form").submit(function(event) {	event.preventDefault();	if(!$("#wallproduct_form").valid())	{		return false;	} 	 	var inps = document.getElementsByName('product_rate[]');		 	for(var i = 0; i <inps.length; i++) 	{	 	 	if(inps[i].value <=0 && inps[i].readOnly == false) 		{			toastr["error"]("Please enter rate.");				inps[i].value = '';				inps[i].focus();			return false;		}	}	 	block_page();	var postData= new FormData(this);	$.ajax({            type: "post",            url:  root+'exportinvoice/container_manage',            data: postData,			processData: false,			contentType: false,			cache: false,            success: function(responseData) {              // console.log(responseData);			    var obj= JSON.parse(responseData);				$(".loader").hide();				 				 				   $("#product_form").trigger('reset');				    unblock_page("success","Sucessfully Updated.");					setTimeout(function(){ location.reload(); },1000);		    },            error: function(jqXHR, textStatus, errorThrown) {                console.log(errorThrown);            }	});});function load_design(product_size_id){	block_page();			  $.ajax({               type: "POST",               url: root+'create_pi_loading/load_design',              data: {                "product_size_id" : product_size_id               },               cache: false,               success: function (data) 			  { 					var obj = JSON.parse(data);					if(obj.packing.boxes_per_pallet > 0)					{						$("#pallet_status").val(1);						$(".single_con").show();					}					else if(obj.packing.box_per_big_plt > 0 || obj.packing.box_per_small_plt_new > 0)					{						$("#pallet_status").val(3);						$(".single_con").hide();						$(".multi_con").show();					}					else 					{						$("#pallet_status").val(2);						$(".single_con").hide();						$(".multi_con").hide();					}					$("#pallet_weight").val(obj.packing.pallet_weight)			 		$("#sqm_per_box").val(obj.packing.sqm_per_box)					$("#pcs_per_box").val(obj.packing.pcs_per_box)					$("#weight_per_box").val(obj.packing.weight_per_box)					$("#small_pallet_weight").val(obj.packing.small_plat_weight)					$("#big_pallet_weight").val(obj.packing.big_plat_weight)					$("#boxes_per_pallet").val(obj.packing.boxes_per_pallet)					$("#big_boxes_per_pallet").val(obj.packing.box_per_big_plt)					$("#small_boxes_per_pallet").val(obj.packing.box_per_small_plt_new)				    $("#design_id").html(obj.design_html);						unblock_page('',"")              }			});}function load_finish(design_id){	block_page();		$.ajax({ 		type: "POST", 		url: root+"product/load_finish_data",		data: {			"id": design_id 		}, 		success: function (response)		{			var obj = JSON.parse(response);				$("#finish_id").html(obj.html);				 unblock_page("",""); 		}			}); }function cal_sqm(no){			 var radioValue = $("#pallet_status").val();	  	  if(radioValue==1)	 {				var sqm_per_box 			= $('#sqm_per_box').val();		var boxes_per_pallet 		= $('#boxes_per_pallet').val();		if(no == 2)		{			if($('#no_of_pallet').val() != undefined && $('#no_of_pallet').val() != "" )			{				var no_of_pallet 			= $('#no_of_pallet').val();			 	var no_of_boxes 			= $('#no_of_pallet').val() * boxes_per_pallet;			 	$('#boxes').val(no_of_boxes);				var no_of_sqm = no_of_boxes * sqm_per_box;				$('#total_no_of_sqm').val(no_of_sqm.toFixed(2));				var net_weight = parseFloat(no_of_boxes) * $('#weight_per_box').val();				$('#net_weight').val(net_weight.toFixed(2));				var pallet_weight = $('#pallet_weight').val();				var total_pallet_weight = parseFloat(pallet_weight) * parseFloat(no_of_pallet);				$('#gross_weight').val(parseFloat(net_weight) + parseFloat(total_pallet_weight))		  	}		}		else if(no == 1)		{			var no_of_pallet 			= $('#no_of_pallet').val();			var no_of_boxes  = $('#boxes').val();			var no_of_sqm = no_of_boxes * sqm_per_box;			$('#total_no_of_sqm').val(no_of_sqm.toFixed(2));			var net_weight = parseFloat(no_of_boxes) * $('#weight_per_box').val();			$('#net_weight').val(net_weight.toFixed(2));			var pallet_weight = $('#pallet_weight').val();			var total_pallet_weight = parseFloat(pallet_weight) * parseFloat(no_of_pallet);			$('#gross_weight').val(parseFloat(net_weight) + parseFloat(total_pallet_weight))		}	 }	 else if(radioValue==2)	 {		 var weight_per_box = $('#weight_per_box').val();		 var sqm_per_box 	= $('#sqm_per_box').val();		  		 			if($('#only_no_of_boxes').val() != undefined && $('#only_no_of_boxes').val() != "")			{				var no_of_boxes = $("#only_no_of_boxes").val();				var rate_usd_val = $('#product_rate').val();				var no_of_sqm = no_of_boxes * sqm_per_box;				$('#no_of_sqm').val(no_of_sqm.toFixed(2));								var product_total_amount = rate_usd_val * no_of_sqm;				$('#product_amt'+val).val((product_total_amount>0)?(product_total_amount.toFixed(2)):0);				var packing_net_weight 		= weight_per_box * no_of_boxes;				var packing_gross_weight 	= parseFloat(packing_net_weight);			 	$('#packing_net_weight'+val).val(packing_net_weight.toFixed(2));				$('#packing_gross_weight'+val).val(packing_gross_weight.toFixed(2));	 	 	}	 } 	 else if(radioValue==3)	 {		 var weight_per_box 		= $('#weight_per_box').val();		 var box_per_big_pallet 	= $('#big_boxes_per_pallet').val();		 var box_per_small_pallet 	= $('#small_boxes_per_pallet').val();		 var big_pallet_weight 		= $('#big_pallet_weight').val();		 var small_pallet_weight 	= $('#small_pallet_weight').val();		 var sqm_per_box 			= $('#sqm_per_box').val();	 	 var no_of_big_pallet 		= ($('#no_of_big_pallet').val() > 0)?$('#no_of_big_pallet').val():0;		 var no_of_small_pallet 	= ($('#no_of_small_pallet').val() > 0)?$('#no_of_small_pallet').val():0;		  		 var total_pallet 			= parseInt(no_of_big_pallet) + parseInt(no_of_small_pallet);		 var no_of_big_boxes 		= no_of_big_pallet * box_per_big_pallet;		 var no_of_small_boxes 		= no_of_small_pallet * box_per_small_pallet;		 var no_of_boxes 			= parseFloat(no_of_big_boxes) + parseFloat(no_of_small_boxes);		  		 $('#boxes').val(no_of_boxes.toFixed(2));		 var no_of_sqm 				= no_of_boxes * sqm_per_box;		 $('#total_no_of_sqm').val(no_of_sqm.toFixed(2));		 var big_palletweight 		= no_of_big_pallet * big_pallet_weight;		 var small_palletweight 	= no_of_small_pallet * small_pallet_weight;		 var palletweight 			= parseFloat(big_palletweight)+parseFloat(small_palletweight);		 var packing_net_weight 	= weight_per_box * no_of_boxes;		 var packing_gross_weight 	= parseFloat(palletweight) + parseFloat(packing_net_weight);		 		 $('#net_weight').val(packing_net_weight.toFixed(2));		 $('#gross_weight').val(packing_gross_weight.toFixed(2));		 	 	  }}closeNav();$(".select2").select2({	 width:"100%"});function close_modal(){	 location.reload();}function cal_product_invoice(val,no){		 var radioValue = $("#pallet_status"+val).val();    	 if(radioValue==1)	 {				var sqm_per_box 		= $('#sqm_per_box'+val).val();		var boxes_per_pallet 		= $('#boxes_per_pallet'+val).val();					if($('#no_of_pallet'+val).val() != undefined && $('#no_of_pallet'+val).val() != "" )			{				 var no_of_pallet 			= $('#no_of_pallet'+val).val();			 	 var no_of_boxes 			= $('#no_of_pallet'+val).val() * boxes_per_pallet;			 	 $('#no_of_boxes'+val).val(no_of_boxes.toFixed(2));				 var no_of_sqm = no_of_boxes * sqm_per_box;				 $('#no_of_sqm'+val).val(no_of_sqm.toFixed(2));				 $('#sqmhtml'+val).html(no_of_sqm.toFixed(2));				  var product_rate = $('#product_rate'+val).val();  		 				 var product_amt = no_of_sqm * product_rate;			 				$('#product_amt'+val).val(product_amt.toFixed(2));				$('#product_amt_html'+val).html(product_amt.toFixed(2));		  	}	 }	 else if(radioValue==2)	 {		 var weight_per_box = $('#weight_per_box'+val).val();		 var sqm_per_box 	= $('#sqm_per_box'+val).val();		  		 			if($('#only_no_of_boxes'+val).val() != undefined && $('#only_no_of_boxes'+val).val() != "")			{				var no_of_boxes = $("#only_no_of_boxes"+val).val();				var rate_usd_val = $('#product_rate'+val).val();				var no_of_sqm = no_of_boxes * sqm_per_box;				$('#no_of_sqm'+val).val(no_of_sqm.toFixed(2));								var product_total_amount = rate_usd_val * no_of_sqm;				$('#product_amt'+val).val((product_total_amount>0)?(product_total_amount.toFixed(2)):0);				var packing_net_weight 		= weight_per_box * no_of_boxes;				var packing_gross_weight 	= parseFloat(packing_net_weight);			 	$('#packing_net_weight'+val).val(packing_net_weight.toFixed(2));				$('#packing_gross_weight'+val).val(packing_gross_weight.toFixed(2));	 	 	}	 } 	 else if(radioValue==3)	 {		 var weight_per_box 		= $('#weight_per_box'+val).val();		 var box_per_big_pallet 	= $('#box_per_big_pallet'+val).val();		 var box_per_small_pallet 	= $('#box_per_small_pallet'+val).val();		 var big_pallet_weight 		= $('#big_pallet_weight'+val).val();		 var small_pallet_weight 	= $('#small_pallet_weight'+val).val();		 var sqm_per_box = $('#sqm_per_box'+val).val();		 		 	if($('#no_of_big_pallet'+val).val() != undefined && $('#no_of_big_pallet'+val).val() != "" )			{				var rate_usd_val = $('#product_rate'+val).val();				var no_of_big_pallet = $('#no_of_big_pallet'+val).val();				var no_of_small_pallet = $('#no_of_small_pallet'+val).val();								var total_pallet = parseInt(no_of_big_pallet) + parseInt(no_of_small_pallet);								var no_of_big_boxes = no_of_big_pallet * box_per_big_pallet;				var no_of_small_boxes = no_of_small_pallet * box_per_small_pallet;								var no_of_boxes = parseInt(no_of_big_boxes) + parseInt(no_of_small_boxes);				 				$('#no_of_boxes'+val).val(no_of_boxes.toFixed(2));								var no_of_sqm = no_of_boxes * sqm_per_box;				$('#no_of_sqm'+val).val(no_of_sqm.toFixed(2));								var product_total_amount = rate_usd_val * no_of_sqm;								$('#product_amt'+val).val((product_total_amount>0)?(product_total_amount.toFixed(2)):0);												var big_palletweight = no_of_big_pallet * big_pallet_weight;				var small_palletweight = no_of_small_pallet * small_pallet_weight;								var palletweight = parseFloat(big_palletweight)+parseFloat(small_palletweight);				var packing_net_weight 		= weight_per_box * no_of_boxes;				var packing_gross_weight 	= parseFloat(palletweight) + parseFloat(packing_net_weight);								$('#packing_net_weight'+val).val(packing_net_weight.toFixed(2));				$('#packing_gross_weight'+val).val(packing_gross_weight.toFixed(2));		 	}	  }}function cal_box_invoice(val,no){		var radioValue = $("#pallet_status"+val).val();    var sqm_per_box = $('#sqm_per_box'+val).val();    var product_rate = $('#product_rate'+val).val();  		 	 if(radioValue==1)	 {		 if(no == 2)		 {			 var no_of_pallet 	= $('#no_of_pallet'+val).val();			 var boxes_per_pallet 	= $('#boxes_per_pallet'+val).val();			 $('#no_of_boxes'+val).val(parseFloat(no_of_pallet * boxes_per_pallet));		 }			 			var no_of_boxes = $('#no_of_boxes'+val).val();			var no_of_sqm = no_of_boxes * sqm_per_box;			$('#no_of_sqm'+val).val(no_of_sqm.toFixed(2));			$('#sqmhtml'+val).html(no_of_sqm.toFixed(2));						var product_amt = no_of_sqm * product_rate;			 			$('#product_amt'+val).val(product_amt.toFixed(2));			$('#product_amt_html'+val).html(product_amt.toFixed(2));					 }	  if(radioValue==2)	 {		  		var no_of_boxes = $('#no_of_boxes'+val).val();		var no_of_sqm = no_of_boxes * sqm_per_box;		$('#no_of_sqm'+val).val(no_of_sqm.toFixed(2));		$('#sqmhtml'+val).html(no_of_sqm.toFixed(2));					var product_amt = no_of_sqm * product_rate;			$('#product_amt'+val).val(product_amt.toFixed(2));			$('#product_amt_html'+val).html(product_amt.toFixed(2));	 }	 else if(radioValue==3)	 {		 if(no == 2)		 {			var big_pallet 	= $('#no_of_big_pallet'+val).val();			var small_pallet 	= $('#no_of_small_pallet'+val).val();			var box_per_big_pallet = $('#box_per_big_pallet'+val).val();			var box_per_small_pallet = $('#box_per_small_pallet'+val).val(); 			$('#no_of_boxes'+val).val(parseFloat(big_pallet * box_per_big_pallet) + parseFloat(small_pallet * box_per_small_pallet));		 }		var no_of_boxes = $('#no_of_boxes'+val).val();		var no_of_sqm = no_of_boxes * sqm_per_box;		$('#no_of_sqm'+val).val(no_of_sqm.toFixed(2));		$('#sqmhtml'+val).html(no_of_sqm.toFixed(2));						var product_amt = no_of_sqm * product_rate;			$('#product_amt'+val).val(product_amt.toFixed(2));			$('#product_amt_html'+val).html(product_amt.toFixed(2));		 	 }}function delete_loading(export_loading_trn_id,con_entry,exportproduct_trn_id,export_packing_id){		Swal.fire({			title: 'You want to Delete?',			type: 'info',			showCancelButton: true,			confirmButtonColor: '#3085d6',			cancelButtonColor: '#d33',			confirmButtonText: 'Yes, confirm it!'		}).then((result) => {		 if (result.value) {			block_page();			  $.ajax({               type: "POST",               url: root+'exportinvoice/deleteloading',              data: {                "export_loading_trn_id"	 : export_loading_trn_id,                 "export_packing_id"		 : export_packing_id,                 "exportproduct_trn_id"	 : exportproduct_trn_id               },               cache: false,               success: function (data) { 				var obj = JSON.parse(data);				if(obj.res==1)				{				 	unblock_page('success',"Loading Sucessfully deleted.");					edit_loading(con_entry,<?=$invoicedata->export_invoice_id?>);				}                else{					unblock_page('error',"Somthing Wrong.")				}              }			});		 }		});}function copy_containter(performa_invoice_id){	var performa_packing_id = [];	var performa_trn_id 	= [];	    $('input[name="copy_make_container[]"]').each(function() {        if ($(this).is(":checked")) {             performa_packing_id.push($(this).val());			performa_trn_id.push($("#performa_trn_id"+$(this).val()).val());	    }    });	 if(performa_packing_id == "" || performa_packing_id == null)	 {		 unblock_page('error',"Please select atlest 1 design");		 return false;	 }	block_page();	$.ajax({              type: "POST",              url: root+'create_producation/copy_containter',             data: {               "performa_packing_id"	: performa_packing_id,               "performa_trn_id" 		: performa_trn_id,                "performa_invoice_id"	: performa_invoice_id              },              cache: false,              success: function (data)			 { 					$("#excelModal").modal({						backdrop: 'static',						keyboard: false					});					$("#set_container_detail").html(data);					unblock_page('',"")             }			});}  $("#product_add").validate({		rules: {			product_id: {				required: true			},			design_id: {				required: true			}		},		messages: {			product_id: {				required: "Select Product"			},			design_id: {				required: "Select Design"			} 		}	});$("#product_add").submit(function(event) {	event.preventDefault();	if(!$("#product_add").valid())	{		return false;	}	block_page();	var postData= new FormData(this);	$.ajax({            type: "post",            url:  root+'exportinvoice/add_product',            data: postData,			processData: false,			contentType: false,			cache: false,            success: function(responseData) {              // console.log(responseData);			    				 $("#product_add").trigger('reset');				 $("#product_id").val('').trigger('change');				 $("#packing_id").val('').trigger('change');				 $("#packing_id").val('').trigger('change');		 		 $("#productmodal").modal('hide');				 edit_loading($("#new_con_entry").val(),$("#einvoice_id").val())  				unblock_page("success","Sucessfully Inserted.");			   		    },            error: function(jqXHR, textStatus, errorThrown) {                console.log(errorThrown);            }	});});function load_packing(product_id){	block_page();			  $.ajax({               type: "POST",               url: root+'create_pi_loading/load_packing',              data: {                "product_id" : product_id               },               cache: false,               success: function (data) { 				   $("#packing_id").html(data);						unblock_page('',"")              }			});}
</script>